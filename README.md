# Currency_converter
Simple currency converter with data downloaded from internet (MVVM)

Приложение построено по принципу single activity и реализовано с помощью фрагментов.
При свайпе вниз данные подгружаются из сети и сохраняются/перезаписываются в БД, откуда уже подтягиваются на слой UI. Таким образом, при запуске приложения пользователь будет видеть курсы из БД моментально.
 
- для навигации между фрагментами и передачи аргументов использовались Android Navigation Components
- для работы с сетью использовался retrofit2
- Moshi для парсинга JSON
- для работы с БД — Room
- с помощью корутин реализовано выполнение запросов на сервер в фоне
- архитектура MVVM. Для построения архитектуры использовались Android Architecture Components (room, ViewModel, LiveData, DataBinding).Причины использования каждого паттерна лаконично описаны здесь: https://developer.android.com/topic/libraries/architecture
- Так, например, с помощью компонентов архитектуры были решены проблемы поворота экрана и временного выхода из приложения.
- Список валют реализован с помощью RecyclerView. Класс DiffUtils помогает при обновлении списка, высчитывая различия между новым и предыдущим по эффективному алгоритму. Это позволяет не использовать notifyDataSetChanged(), приводящий к обновлению всего листа и плохому поведению ui для пользователя.
- Для создания кастомных атрибутов у view использовал аннотации @BindingAdater. Таким образом, например, подгружались флаги и обновлялся список валют для RecyclerView.
- С помощью WorkManager реализовано фоновое обновление курсов раз в день при условиях:
    1. у пользователя не низкий уровень зарядки
    2. запрос не создаст проблем для пользователя, который пользуется интернетом в данный момент для текущих задач
    3. телефон находится на зарядке (обычно люди ставят перед сном)
    4. для новых устройств условие, что пользователь не использует смартфон
 
P.S. использованные библиотеки широко поддерживаются сообществом, а способы их применения взяты c первых уст разработчиков Google
